(this["webpackJsonpcouncil-service-request"]=this["webpackJsonpcouncil-service-request"]||[]).push([[0],{64:function(e,t,r){},65:function(e,t,r){},84:function(e,t,r){},85:function(e,t,r){},86:function(e,t,r){"use strict";r.r(t);var s=r(1),n=r.n(s),a=r(47),c=r.n(a),i=r(8),o=r(0),l=function(e){var t=e.updateLogin,r=Object(s.useState)(""),n=Object(i.a)(r,2),a=n[0],c=n[1],l=Object(s.useState)(""),d=Object(i.a)(l,2),u=d[0],b=d[1],j=Object(s.useState)(""),m=Object(i.a)(j,2),x=m[0],h=m[1];function f(){"user-wdc"!==a||"servicerequestsystem"!==u?h("Incorrect username or password"):t(!0)}return Object(o.jsx)("div",{className:"h-screen w-screen bg-gray-50 flex flex-col items-center justify-center",onKeyPress:function(e){"Enter"===e.key&&f()},children:Object(o.jsxs)("form",{className:"flex flex-col items-center px-8 py-6 background-white-ie-fix shadow-xl border border-gray-300 rounded-lg",onSubmit:function(e){e.preventDefault(),f()},children:[Object(o.jsx)("input",{type:"text",placeholder:"Username",className:"p-2 bg-gray-200 border border-black-true",onChange:function(e){return c(e.target.value)}}),Object(o.jsx)("input",{type:"password",placeholder:"Password",className:"mt-2 p-2 bg-gray-200 border border-black-true",onChange:function(e){return b(e.target.value)}}),x&&Object(o.jsx)("p",{className:"mt-2 text-red-600",children:x}),Object(o.jsx)("button",{type:"submit",className:"mt-4 px-4 py-2 border border-black-true ",children:"Login"})]})})},d=function(){return Object(o.jsx)("div",{className:"bg-wdc-grey w-full py-12",children:Object(o.jsx)("div",{className:"w-11/12 md:w-8/12 mx-auto flex flex-row items-center justify-center sm:justify-end",children:Object(o.jsxs)("div",{className:"flex flex-col items-start text-white",children:[Object(o.jsx)("p",{className:"confirmation-font mb-4",children:"Need help?"}),Object(o.jsx)("a",{href:"tel:+6436890000",children:Object(o.jsx)("p",{className:"body-font text-white",children:"+64 3 689 0000"})}),Object(o.jsx)("a",{href:"mailto:council@waimatedc.govt.nz",children:Object(o.jsx)("p",{className:"body-font text-white",children:"council@waimatedc.govt.nz"})})]})})})},u={damagedBin:"Damaged Bin",missingBin:"Missing Bin",additionalBin:"Additional Bin",missedCollection:"Missed Collection"},b={rubbish:"Rubbish",recycling:"Recycling",food:"Food",glass:"Glass"},j={initial:{opacity:0,scale:.9},in:{opacity:1,scale:1,transition:{ease:"easeInOut",duration:.2,staggerChildren:.075}},out:{opacity:0,transition:{duration:.075}}},m=r(5),x=r(88),h=function(e){var t=e.hasCompletedForm,r=e.serviceRequest,n=Object(m.f)();return Object(s.useEffect)((function(){t||n.replace("/")}),[n,t]),Object(s.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),[]),Object(o.jsx)(x.a.div,{variants:j,initial:"initial",animate:"in",exit:"out",className:"sm:mt-10 mb-10 w-11/12 md:w-8/12 xl:6/12",children:Object(o.jsxs)("div",{className:"py-12 my-auto mx-auto flex flex-col items-start justify-start xl:w-4/5 2xl:w-6/12",children:[Object(o.jsx)(x.a.h1,{variants:j,className:"heading-font mb-6 xl:mb-10 w-full text-left",children:"Thank you"}),Object(o.jsx)(x.a.p,{variants:j,className:"mb-3 confirmation-font",children:"We'll be in touch with you as soon as possible."}),Object(o.jsx)(x.a.p,{variants:j,className:"mb-10 xl:mb-16 confirmation-font",children:"Your ticket number is #".concat(r.ticketNumber,".\nPlease keep this number as a reference for all enquiries related to this job.")}),Object(o.jsxs)(x.a.div,{variants:j,className:"flex items-center",children:[Object(o.jsx)("a",{href:"/",className:"mr-4 body-font text-white bg-wdc-green transition duration-300 ease-in-out hover:bg-wdc-green-lighter rounded px-6 py-2.5 md:px-10 md:py-3 focus:outline-none border border-transparent focus:border-gray-800",children:"Report another issue"}),Object(o.jsx)("a",{href:"https://www.waimatedc.govt.nz/",className:"body-font text-white bg-wdc-green transition duration-300 ease-in-out hover:bg-wdc-green-lighter rounded px-6 py-2.5 md:px-10 md:py-3 focus:outline-none border border-transparent focus:border-gray-800",children:"WDC website"})]})]})})},f=function(){return Object(o.jsx)("div",{className:"sm:mt-10 mb-10 w-11/12 md:w-8/12 xl:6/12",children:Object(o.jsxs)("div",{className:"py-12 my-auto mx-auto flex flex-col items-start justify-start xl:w-4/5 2xl:w-6/12",children:[Object(o.jsx)("h1",{className:"heading-font mb-6 xl:mb-10 w-full text-left",children:"Page Not Found"}),Object(o.jsx)("p",{className:"mb-10 xl:mb-16 confirmation-font",children:"We couldn't find the page you were looking for. Click the button below to return to the homepage."}),Object(o.jsx)("a",{href:"/",className:"mr-4 body-font text-white bg-wdc-green transition duration-300 ease-in-out hover:bg-wdc-green-lighter rounded px-6 py-2.5 md:px-10 md:py-3 focus:outline-none border border-transparent focus:border-gray-800",children:"Take me home"})]})})},p=function(){return Object(o.jsx)("div",{className:"w-full h-24 md:h-28 bg-white flex flex-col items-center border-b border-gray-100 shadow",children:Object(o.jsx)("div",{className:"h-full w-11/12 md:w-8/12 flex flex-row items-center justify-center sm:justify-start",children:Object(o.jsx)("img",{src:"wdc-logo.png",alt:"Tauranga City Council logo",className:"h-9 md:h-12"})})})},v=r(12),g=r.n(v),O=r(4),w=r(20),y=r(49),N=r(29),k=r.n(N),C=(r(64),function(){return Object(o.jsx)("div",{className:"h-full",children:Object(o.jsxs)("div",{className:"lds-ring flex flex-col items-center justify-center h-full",children:[Object(o.jsx)("div",{}),Object(o.jsx)("div",{}),Object(o.jsx)("div",{}),Object(o.jsx)("div",{})]})})}),q=function(){return Object(o.jsxs)("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"25px",height:"25px",viewBox:"0 0 286.054 286.054",xmlSpace:"preserve",children:[Object(o.jsx)("g",{children:Object(o.jsx)("path",{fill:"#f87171",d:"M143.027,0C64.04,0,0,64.04,0,143.027c0,78.996,64.04,143.027,143.027,143.027\r c78.996,0,143.027-64.022,143.027-143.027C286.054,64.04,222.022,0,143.027,0z M143.027,259.236\r c-64.183,0-116.209-52.026-116.209-116.209S78.844,26.818,143.027,26.818s116.209,52.026,116.209,116.209\r S207.21,259.236,143.027,259.236z M143.036,62.726c-10.244,0-17.995,5.346-17.995,13.981v79.201c0,8.644,7.75,13.972,17.995,13.972\r c9.994,0,17.995-5.551,17.995-13.972V76.707C161.03,68.277,153.03,62.726,143.036,62.726z M143.036,187.723\r c-9.842,0-17.852,8.01-17.852,17.86c0,9.833,8.01,17.843,17.852,17.843s17.843-8.01,17.843-17.843\r C160.878,195.732,152.878,187.723,143.036,187.723z"})}),Object(o.jsx)("g",{}),Object(o.jsx)("g",{}),Object(o.jsx)("g",{}),Object(o.jsx)("g",{}),Object(o.jsx)("g",{}),Object(o.jsx)("g",{}),Object(o.jsx)("g",{}),Object(o.jsx)("g",{}),Object(o.jsx)("g",{}),Object(o.jsx)("g",{}),Object(o.jsx)("g",{}),Object(o.jsx)("g",{}),Object(o.jsx)("g",{}),Object(o.jsx)("g",{}),Object(o.jsx)("g",{})]})},S=function(e){var t,r=e.label,n=e.serviceRequest,a=e.updateServiceRequest,c=e.addressErrorMessage,l=e.updateAddressErrorMessage,d=e.isValidAddress,u=e.updateIsValidAddress,b=Object(s.useState)(!1),j=Object(i.a)(b,2),m=j[0],x=j[1],h="We were unable to make this request. Please try again or contact us on 07 577 7000.",f="You need to select an address from the dropdown menu.";function p(e){return v.apply(this,arguments)}function v(){return(v=Object(w.a)(g.a.mark((function e(t){var r,s,c,o,d,b,j,m,f,p,v,w;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t){e.next=2;break}return e.abrupt("return");case 2:return x(!0),l(null),e.prev=4,e.next=7,Object(N.geocodeByAddress)(t);case 7:return r=e.sent,s=Object(i.a)(r,1),c=s[0],o=y(c.address_components,"route"),d=y(c.address_components,"sublocality"),b=y(c.address_components,"locality"),j=y(c.address_components,"postal_code"),m=y(c.address_components,"administrative_area_level_1"),f=y(c.address_components,"street_number"),e.next=18,Object(N.getLatLng)(c);case 18:p=e.sent,v=p.lat,w=p.lng,l(null),u(!0),a(Object(O.a)(Object(O.a)({},n),{},{addressComponents:Object(O.a)(Object(O.a)({},n.addressComponents),{},{streetNumber:f,roadName:o,suburbName:d,cityName:b,regionName:m,postCode:j,latitude:v,longitude:w,formattedAddress:c.formatted_address})})),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(4),l(h);case 28:return e.prev=28,x(!1),e.finish(28);case 31:case"end":return e.stop()}}),e,null,[[4,25,28,31]])})))).apply(this,arguments)}function y(e,t){var r=(e.find((function(e){return e.types.includes(t)}))||{}).long_name,s=void 0===r?"":r;return null===s?"":s}var S="w-full pl-3 py-3 focus:outline-none text-base placeholder-gray-500 text-gray-800",R="".concat(S," transition duration-300 ease-in-out pr-3 overflow-ellipsis whitespace-nowrap overflow-x-hidden focus:outline-none rounded border border-transparent focus:border-gray-800"),E="".concat(S," border-t border-l border-r border-gray-300 bg-white hover:bg-gray-100 flex flex-row items-center min-w-0 rounded-none"),A="".concat(E);return Object(o.jsx)("div",{className:"w-full h-full z-50 pb-4",children:Object(o.jsx)(k.a,{value:null===(null===(t=n.addressComponents)||void 0===t?void 0:t.formattedAddress)?"":n.addressComponents.formattedAddress,onSelect:p,searchOptions:{types:["address"],componentRestrictions:{country:["nz"]}},onChange:function(e){return function(e){l(null),u(!1),a(Object(O.a)(Object(O.a)({},n),{},{addressComponents:{streetNumber:null,roadName:null,suburbName:null,cityName:null,regionName:null,postCode:null,latitude:null,longitude:null,formattedAddress:e}}))}(e)},children:function(e){var t=e.getInputProps,s=e.suggestions,i=e.loading;return Object(o.jsxs)("div",{className:"relative w-full h-full bg-white shadow-sm rounded inline-block",onBlur:function(e){m||null===n.addressComponents.formattedAddress||""===n.addressComponents.formattedAddress||d||null!==c||l(f)},children:[Object(o.jsx)("input",Object(O.a)({"data-lpignore":"true",name:"StreetAddress",placeholder:r,title:r,id:"StreetAddress"},t({className:"".concat(R),autoComplete:"none",required:!0,results:3}))),c&&Object(o.jsxs)("div",{className:"m-4 p-2 mb-4 border border-red-400 rounded flex items-center",children:[Object(o.jsx)("p",{className:"text-red-400 flex-grow mr-4",children:c}),Object(o.jsx)("div",{className:"flex-shrink-0",children:Object(o.jsx)(q,{})})]}),i||m?Object(o.jsx)("div",{className:"absolute right-2 top-3 background-white-ie-fix w-8 h-6",children:Object(o.jsx)(C,{})}):Object(o.jsx)("div",{}),Object(o.jsx)("div",{className:"absolute w-full shadow-md z-50",children:s.map((function(e,t){if(t<3){var r=e.active?"bg-gray-100 cursor-pointer":"cursor-pointer";return Object(o.jsx)("div",{className:0===t?"".concat(A," ").concat(r):"".concat(E," ").concat(r),onMouseDown:function(){return t=e.description,a(Object(O.a)(Object(O.a)({},n),{},{addressComponents:Object(O.a)(Object(O.a)({},n.addressComponents),{},{formattedAddress:t})})),void p(t);var t},children:Object(o.jsx)("p",{className:"w-full truncate",children:e.description})},t)}return Object(o.jsx)("div",{},t)}))})]})}})})},R=function(e){var t=e.serviceRequest,r=e.label,s=e.serviceList,n=e.onChange,a=e.checkboxErrorMessage;return Object(o.jsxs)("div",{className:"flex flex-col items-start w-full mb-4 bg-white rounded px-4 py-3 border",children:[Object(o.jsx)("label",{htmlFor:r,className:"text-base text-gray-500 pb-4",children:r}),Object(o.jsx)("div",{className:"grid grid-cols-2 gap-1 w-full",children:Object.values(s).map((function(e,s){var a;return Object(o.jsxs)("div",{className:"flex flex-row items-center w-full",children:[Object(o.jsx)("input",{id:e,type:"checkbox",name:e,value:e,title:r,checked:!!(null===(a=t.service)||void 0===a?void 0:a.includes(e)),className:"mr-2",onChange:n}),Object(o.jsx)("label",{htmlFor:e,className:"text-base text-gray-800",children:e})]},s)}))}),a&&Object(o.jsxs)("div",{className:"mt-4 p-2 w-full border border-red-400 rounded flex items-center",children:[Object(o.jsx)("p",{className:"text-base text-red-400 flex-grow mr-4",children:a}),Object(o.jsx)("div",{className:"mr-2 flex-shrink-0",children:Object(o.jsx)(q,{})})]})]})},E=function(e){var t=e.label,r=e.required,s=void 0===r||r,n=e.onChange;return Object(o.jsx)("div",{className:"h-full w-full mb-4 flex flex-col",children:Object(o.jsx)("textarea",{id:t,name:t,title:t,placeholder:t,onChange:n,required:s,className:"border border-gray-300 pl-3 py-3 transition duration-300 ease-in-out shadow-sm rounded text-base focus:outline-none focus:border-gray-800 bg-white placeholder-gray-500 text-gray-800"})})},A=function(e){var t=e.type,r=void 0===t?"text":t,s=e.label,n=e.required,a=void 0===n||n,c=e.onChange,i=e.value;return Object(o.jsx)("div",{className:"h-full w-full mb-4 flex flex-col",children:Object(o.jsx)("input",{type:r,id:s,name:s,placeholder:s,onChange:c,required:a,title:s,value:i,className:"border border-gray-300 pl-3 py-3 transition duration-300 ease-in-out shadow-sm rounded text-base focus:outline-none focus:border-gray-800 bg-white placeholder-gray-500 text-gray-800"})})},M=(r(65),function(){return Object(o.jsx)("div",{className:"w-full flex flex-row items-center justify-center",children:Object(o.jsxs)("div",{className:"spinner flex flex-row items-center justify-center",children:[Object(o.jsx)("p",{className:"body-font opacity-0",children:"."}),Object(o.jsx)("div",{className:"bounce1"}),Object(o.jsx)("div",{className:"bounce2"}),Object(o.jsx)("div",{className:"bounce3"}),Object(o.jsx)("p",{className:"body-font opacity-0",children:"."})]})})}),L=function(e){var t=e.serviceRequest,r=e.updateServiceRequest,n=e.onSubmit,a=e.checkboxErrorMessage,c=e.updateCheckboxErrorMessage,l=e.isLoading,d=e.formErrorMessage,m=Object(s.useState)(null),h=Object(i.a)(m,2),f=h[0],p=h[1],v=Object(s.useState)(!1),g=Object(i.a)(v,2),w=g[0],N=g[1];return Object(o.jsxs)(x.a.form,{variants:j,initial:"initial",animate:"in",exit:"out",className:"flex flex-col items-center w-full",onSubmit:n,children:[Object(o.jsx)(x.a.div,{variants:j,className:"w-full",children:Object(o.jsx)(R,{serviceRequest:t,label:"Select the services that relate to your request. Please note that you must be a ratepayer to request any additional bins.",onChange:function(e){!function(e){c(null);var s,n=e.target.value;null===t.service?r(Object(O.a)(Object(O.a)({},t),{},{service:[n]})):(null===(s=t.service)||void 0===s?void 0:s.includes(n))?r(Object(O.a)(Object(O.a)({},t),{},{service:t.service.filter((function(e){return e!==n}))})):r(Object(O.a)(Object(O.a)({},t),{},{service:[].concat(Object(y.a)(t.service),[n])}))}(e)},serviceList:b,checkboxErrorMessage:a})}),Object(o.jsx)(x.a.div,{variants:j,className:"w-full",children:Object(o.jsx)(E,{label:"Add any additional comments (optional)",required:!1,onChange:function(e){return r(Object(O.a)(Object(O.a)({},t),{},{comments:e.target.value}))}})}),Object(o.jsx)(x.a.div,{variants:j,className:"w-full",children:Object(o.jsx)(A,{label:"Enter your full name",onChange:function(e){return r(Object(O.a)(Object(O.a)({},t),{},{name:e.target.value}))}})}),Object(o.jsx)(x.a.div,{variants:j,className:"w-full",children:Object(o.jsx)(A,{label:"Enter your email address",onChange:function(e){return r(Object(O.a)(Object(O.a)({},t),{},{emailAddress:e.target.value}))}})}),Object(o.jsx)(x.a.div,{variants:j,className:"w-full",children:Object(o.jsx)(A,{label:"Enter your phone number",type:"number",onChange:function(e){return r(Object(O.a)(Object(O.a)({},t),{},{phoneNo:e.target.value}))}})}),t.serviceRequest===u.additionalBin&&Object(o.jsx)(x.a.div,{variants:j,className:"w-full",children:Object(o.jsx)(A,{label:"Enter your rates valuation number (no special characters)",value:null===t.valuationNumber?"":t.valuationNumber.replaceAll(/[^A-Za-z0-9]/g,""),onChange:function(e){return r(Object(O.a)(Object(O.a)({},t),{},{valuationNumber:e.target.value}))}})}),Object(o.jsx)(x.a.div,{variants:j,className:"w-full",children:Object(o.jsx)(S,{label:"Enter your address",serviceRequest:t,updateServiceRequest:r,addressErrorMessage:f,updateAddressErrorMessage:p,isValidAddress:w,updateIsValidAddress:N})}),d&&Object(o.jsx)(x.a.div,{variants:j,className:"mb-4 bg-white rounded w-full",children:Object(o.jsxs)("div",{className:"m-2 p-2 relative border border-red-400 rounded flex items-center justify-end",children:[Object(o.jsx)("p",{className:"mr-0 flex-grow text-red-400 ",children:d}),Object(o.jsx)("div",{className:"flex-shrink-0 mr-2",children:Object(o.jsx)(q,{})})]})}),Object(o.jsx)(x.a.div,{variants:j,className:"w-full flex justify-end",children:Object(o.jsx)("button",{type:"submit",disabled:null!==f||null!==a,className:"body-font disabled-cursor-style w-28 xl:w-40 text-white bg-wdc-green transition duration-300 ease-in-out hover:bg-wdc-green-lighter rounded py-2.5 md:py-3 focus:outline-none border border-transparent focus:border-gray-800",children:l?Object(o.jsx)(M,{}):"Submit"})})]})},B=function(e){var t=e.label,r=e.required,s=void 0===r||r,n=e.dropdownItems,a=e.onChange;return Object(o.jsx)("div",{className:"h-full w-full mb-4 flex flex-col",children:Object(o.jsxs)("div",{className:"shadow-sm rounded flex relative",children:[Object(o.jsxs)("select",{name:t,required:s,id:t,onChange:a,title:t,defaultValue:"",className:"bg-white appearance-none z-10 pl-3 text-base transition duration-300 ease-in-out placeholder-gray-500 text-gray-800 py-3 w-full border border-transparent focus:outline-none focus:border-gray-800 rounded",children:[Object(o.jsx)("option",{disabled:!0,value:"",children:"Select your service"}),n&&Object.values(n).map((function(e,t){return Object(o.jsx)("option",{value:e,children:e},t)}))]}),Object(o.jsxs)("div",{className:"px-4 flex items-center border-l border-gray-300 flex-col justify-center text-gray-500\r absolute right-0 bottom-0 top-0 mx-auto z-20 pointer-events-none ",children:[Object(o.jsxs)("svg",{tabIndex:-1,xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-chevron-up",width:16,height:16,viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[Object(o.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z"}),Object(o.jsx)("polyline",{points:"6 15 12 9 18 15"})]}),Object(o.jsxs)("svg",{tabIndex:-1,xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-chevron-down",width:16,height:16,viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[Object(o.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z"}),Object(o.jsx)("polyline",{points:"6 9 12 15 18 9"})]})]})]})})},z=r(30),_=r.n(z),I={requireLogin:!0,apiBaseUrl:"https://environz-api-dev.azurewebsites.net/API/",keys:{createServiceRequestKey:"wtxg8KH0Hy82VrO3SJyJ2oXSSZNAisYb5gL2hin1NuMHlRniAywYFA==",checkAddressKey:"ovF57taafv4Lg0MRzupyAv8umU9HEc0EQTf8PgcXAyGideLUvm90uQ=="}};_.a.defaults.baseURL=I.apiBaseUrl;var F={createServiceRequest:function(){var e=Object(w.a)(g.a.mark((function e(t){var r,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"dev",r={env:"dev",code:I.keys.createServiceRequestKey},e.next=5,_.a.post("wdc/createservicerequest",t,{params:r});case 5:return s=e.sent,e.abrupt("return",s);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),checkAddress:function(){var e=Object(w.a)(g.a.mark((function e(t,r){var s,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"dev",s={env:"dev",code:I.keys.checkAddressKey,houseNo:t.streetNumber,houseName:t.roadName,postcode:t.postCode,valuationNumber:r},e.next=5,_.a.get("wdc/checkaddress",{params:s});case 5:return n=e.sent,e.abrupt("return",n);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,r){return e.apply(this,arguments)}}()},P=r(89),H=function(e){var t=e.initialState,r=e.serviceRequest,n=e.updateServiceRequest,a=e.updateHasCompletedForm,c=Object(s.useState)(null),l=Object(i.a)(c,2),d=l[0],b=l[1],j=Object(s.useState)(null),x=Object(i.a)(j,2),h=x[0],f=x[1],p=Object(s.useState)(!1),v=Object(i.a)(p,2),y=v[0],N=v[1],k=Object(m.f)(),C="You need to select a service from the checkboxes above.",q="We were unable to find an address with those details. Please try again later or contact us.",S="Something went wrong with this request. Please try again later or contact us.";function R(e){return E.apply(this,arguments)}function E(){return(E=Object(w.a)(g.a.mark((function e(t){var s,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),b(null),N(!0),_()){e.next=7;break}return f(C),N(!1),e.abrupt("return");case 7:return e.next=9,M();case 9:if(!e.sent){e.next=15;break}return n=Object.assign({},r,{service:null===(s=r.service)||void 0===s?void 0:s.toString()}),e.next=13,F.createServiceRequest(n);case 13:A(e.sent);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e){200===(null===e||void 0===e?void 0:e.status)?parseInt(e.data)&&(r.ticketNumber=parseInt(e.data),a(!0),N(!1),k.push("/confirmation")):(N(!1),b(S))}function M(){return z.apply(this,arguments)}function z(){return(z=Object(w.a)(g.a.mark((function e(){var t,s,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=null!==(t=r.valuationNumber)&&void 0!==t?t:"",e.next=3,F.checkAddress(r.addressComponents,s);case 3:if(200!==(null===(n=e.sent)||void 0===n?void 0:n.status)){e.next=8;break}return e.abrupt("return",!0);case 8:if(400!==(null===n||void 0===n?void 0:n.status)||"Failed"!==(null===n||void 0===n?void 0:n.data)){e.next=12;break}return b(q),N(!1),e.abrupt("return",!1);case 12:return b(S),N(!1),e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){return!(null===r.service||!r.service.length)}return Object(o.jsx)("div",{className:"sm:mt-10 mb-10 w-11/12 md:w-8/12 xl:6/12",children:Object(o.jsxs)("div",{className:"py-12 my-auto mx-auto flex flex-col items-start justify-start xl:w-4/5 2xl:w-6/12",children:[Object(o.jsxs)("h1",{className:"heading-font w-full text-left mb-6",children:["Report an issue with ",Object(o.jsx)("br",{}),"your waste services"]}),Object(o.jsx)(B,{label:"Please select your service request",dropdownItems:u,onChange:function(e){N(!1),b(null),f(null),n(Object(O.a)(Object(O.a)({},t),{},{serviceRequest:e.target.value}))}}),Object(o.jsxs)(P.a,{exitBeforeEnter:!0,children:[(null===r||void 0===r?void 0:r.serviceRequest)===u.damagedBin&&Object(o.jsx)(L,{serviceRequest:r,updateServiceRequest:n,onSubmit:function(e){return R(e)},checkboxErrorMessage:h,updateCheckboxErrorMessage:f,isLoading:y,formErrorMessage:d},1),(null===r||void 0===r?void 0:r.serviceRequest)===u.missingBin&&Object(o.jsx)(L,{serviceRequest:r,updateServiceRequest:n,onSubmit:function(e){return R(e)},checkboxErrorMessage:h,updateCheckboxErrorMessage:f,isLoading:y,formErrorMessage:d},2),(null===r||void 0===r?void 0:r.serviceRequest)===u.additionalBin&&Object(o.jsx)(L,{serviceRequest:r,updateServiceRequest:n,onSubmit:function(e){return R(e)},checkboxErrorMessage:h,updateCheckboxErrorMessage:f,isLoading:y,formErrorMessage:d},3),(null===r||void 0===r?void 0:r.serviceRequest)===u.missedCollection&&Object(o.jsx)(L,{serviceRequest:r,updateServiceRequest:n,onSubmit:function(e){return R(e)},checkboxErrorMessage:h,updateCheckboxErrorMessage:f,isLoading:y,formErrorMessage:d},4)]})]})})};r(84);var V=function(){var e=Object(s.useState)(!1),t=Object(i.a)(e,2),r=t[0],n=t[1],a=Object(m.g)(),c={ticketNumber:0,serviceRequest:null,service:null,comments:null,addressComponents:{formattedAddress:null,streetNumber:null,roadName:null,suburbName:null,cityName:null,postCode:null,regionName:null,latitude:null,longitude:null},name:null,emailAddress:null,phoneNo:null,valuationNumber:null},u=Object(s.useState)(c),b=Object(i.a)(u,2),j=b[0],x=b[1],v=Object(s.useState)(!1),g=Object(i.a)(v,2),O=g[0],w=g[1];return r?Object(o.jsxs)("div",{className:"overflow-x-hidden",children:[Object(o.jsxs)("div",{className:"min-h-screen bg-wdc-background bg-tcc-blue bg-cover bg-center bg-fixed bg-no-repeat w-full flex flex-col items-center justify-start relative",children:[Object(o.jsx)(p,{}),Object(o.jsx)("div",{className:"bg-wdc-grey h-10 w-full"}),Object(o.jsx)(P.a,{exitBeforeEnter:!0,children:Object(o.jsxs)(m.c,{location:a,children:[Object(o.jsx)(m.a,{exact:!0,path:"/",children:Object(o.jsx)(H,{serviceRequest:j,updateServiceRequest:x,initialState:c,hasCompletedForm:O,updateHasCompletedForm:w})}),Object(o.jsx)(m.a,{exact:!0,path:"/confirmation",children:Object(o.jsx)(h,{hasCompletedForm:O,serviceRequest:j})},"confirmation-page"),Object(o.jsx)(f,{})]},a.key)}),Object(o.jsx)("div",{className:"bg-wdc-primary h-10 w-full self-stretch absolute bottom-0",children:Object(o.jsx)("div",{className:"bg-wdc-primary transform -translate-x-1/2 rotate-45 h-10 w-10 absolute left-1/2 -bottom-1/2"})})]}),Object(o.jsx)(d,{})]}):Object(o.jsx)(l,{updateLogin:n})},W=r(34);r(85);c.a.render(Object(o.jsx)(n.a.StrictMode,{children:Object(o.jsx)(W.a,{basename:"/wdc",children:Object(o.jsx)(V,{})})}),document.getElementById("root"))}},[[86,1,2]]]);
//# sourceMappingURL=main.871a0313.chunk.js.map