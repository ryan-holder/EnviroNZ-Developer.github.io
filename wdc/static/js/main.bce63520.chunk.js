(this["webpackJsonpcouncil-service-request"]=this["webpackJsonpcouncil-service-request"]||[]).push([[0],{64:function(e,t,r){},65:function(e,t,r){},84:function(e,t,r){},85:function(e,t,r){},86:function(e,t,r){"use strict";r.r(t);var s=r(1),n=r.n(s),a=r(47),c=r.n(a),i=r(8),o=r(0),l=function(e){var t=e.updateLogin,r=Object(s.useState)(""),n=Object(i.a)(r,2),a=n[0],c=n[1],l=Object(s.useState)(""),d=Object(i.a)(l,2),u=d[0],b=d[1],j=Object(s.useState)(""),m=Object(i.a)(j,2),x=m[0],h=m[1],f=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ENVIRONMENT:"dev"}).REACT_APP_USERNAME,p=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ENVIRONMENT:"dev"}).REACT_APP_PASSWORD;function v(){a!==f||u!==p?h("Incorrect username or password"):t(!0)}return Object(o.jsx)("div",{className:"h-screen w-screen bg-gray-50 flex flex-col items-center justify-center",onKeyPress:function(e){"Enter"===e.key&&v()},children:Object(o.jsxs)("form",{className:"flex flex-col items-center px-8 py-6 background-white-ie-fix shadow-xl border border-gray-300 rounded-lg",onSubmit:function(e){e.preventDefault(),v()},children:[Object(o.jsx)("input",{type:"text",placeholder:"Username",className:"p-2 bg-gray-200 border border-black-true",onChange:function(e){return c(e.target.value)}}),Object(o.jsx)("input",{type:"password",placeholder:"Password",className:"mt-2 p-2 bg-gray-200 border border-black-true",onChange:function(e){return b(e.target.value)}}),x&&Object(o.jsx)("p",{className:"mt-2 text-red-600",children:x}),Object(o.jsx)("button",{type:"submit",className:"mt-4 px-4 py-2 border border-black-true ",children:"Login"})]})})},d=function(){return Object(o.jsx)("div",{className:"bg-wdc-grey w-full py-12",children:Object(o.jsx)("div",{className:"w-11/12 md:w-8/12 mx-auto flex flex-row items-center justify-center sm:justify-end",children:Object(o.jsxs)("div",{className:"flex flex-col items-start text-white",children:[Object(o.jsx)("p",{className:"confirmation-font mb-4",children:"Need help?"}),Object(o.jsx)("a",{href:"tel:+6436890000",children:Object(o.jsx)("p",{className:"body-font text-white",children:"+64 3 689 0000"})}),Object(o.jsx)("a",{href:"mailto:council@waimatedc.govt.nz",children:Object(o.jsx)("p",{className:"body-font text-white",children:"council@waimatedc.govt.nz"})})]})})})},u={damagedBin:"Damaged Bin",missingBin:"Missing Bin",additionalBin:"Additional Bin",missedCollection:"Missed Collection"},b={rubbish:"Rubbish",recycling:"Recycling",food:"Food",glass:"Glass"},j={rubbish:"Rubbish",food:"Food",glass:"Glass"},m={initial:{opacity:0,scale:.9},in:{opacity:1,scale:1,transition:{ease:"easeInOut",duration:.2,staggerChildren:.075}},out:{opacity:0,transition:{duration:.075}}},x=r(5),h=r(88),f=function(e){var t=e.hasCompletedForm,r=e.serviceRequest,n=Object(x.f)();return Object(s.useEffect)((function(){t||n.replace("/")}),[n,t]),Object(s.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),[]),Object(o.jsx)(h.a.div,{variants:m,initial:"initial",animate:"in",exit:"out",className:"sm:mt-10 mb-10 w-11/12 md:w-8/12 xl:6/12",children:Object(o.jsxs)("div",{className:"py-12 my-auto mx-auto flex flex-col items-start justify-start xl:w-4/5 2xl:w-6/12",children:[Object(o.jsx)(h.a.h1,{variants:m,className:"heading-font mb-6 xl:mb-10 w-full text-left",children:"Thank you"}),Object(o.jsx)(h.a.p,{variants:m,className:"mb-3 confirmation-font",children:"We'll be in touch with you as soon as possible."}),Object(o.jsx)(h.a.p,{variants:m,className:"mb-10 xl:mb-16 confirmation-font",children:"Your ticket number is #".concat(r.ticketNumber,".\nPlease keep this number as a reference for all enquiries related to this job.")}),Object(o.jsxs)(h.a.div,{variants:m,className:"flex items-center",children:[Object(o.jsx)("a",{href:"/",className:"mr-4 body-font text-white bg-wdc-green transition duration-300 ease-in-out hover:bg-wdc-green-lighter rounded px-6 py-2.5 md:px-10 md:py-3 focus:outline-none border border-transparent focus:border-gray-800",children:"Report another issue"}),Object(o.jsx)("a",{href:"https://www.waimatedc.govt.nz/",className:"body-font text-white bg-wdc-green transition duration-300 ease-in-out hover:bg-wdc-green-lighter rounded px-6 py-2.5 md:px-10 md:py-3 focus:outline-none border border-transparent focus:border-gray-800",children:"WDC website"})]})]})})},p=function(){return Object(o.jsx)("div",{className:"sm:mt-10 mb-10 w-11/12 md:w-8/12 xl:6/12",children:Object(o.jsxs)("div",{className:"py-12 my-auto mx-auto flex flex-col items-start justify-start xl:w-4/5 2xl:w-6/12",children:[Object(o.jsx)("h1",{className:"heading-font mb-6 xl:mb-10 w-full text-left",children:"Page Not Found"}),Object(o.jsx)("p",{className:"mb-10 xl:mb-16 confirmation-font",children:"We couldn't find the page you were looking for. Click the button below to return to the homepage."}),Object(o.jsx)("a",{href:"/",className:"mr-4 body-font text-white bg-wdc-green transition duration-300 ease-in-out hover:bg-wdc-green-lighter rounded px-6 py-2.5 md:px-10 md:py-3 focus:outline-none border border-transparent focus:border-gray-800",children:"Take me home"})]})})},v=function(){return Object(o.jsx)("div",{className:"w-full h-24 md:h-28 bg-white flex flex-col items-center border-b border-gray-100 shadow",children:Object(o.jsx)("div",{className:"h-full w-11/12 md:w-8/12 flex flex-row items-center justify-center sm:justify-start",children:Object(o.jsx)("img",{src:"wdc-logo.png",alt:"Tauranga City Council logo",className:"h-9 md:h-12"})})})},O=r(9),g=r.n(O),w=r(4),y=r(20),N=r(49),C=r(29),k=r.n(C),S=(r(64),function(){return Object(o.jsx)("div",{className:"h-full",children:Object(o.jsxs)("div",{className:"lds-ring flex flex-col items-center justify-center h-full",children:[Object(o.jsx)("div",{}),Object(o.jsx)("div",{}),Object(o.jsx)("div",{}),Object(o.jsx)("div",{})]})})}),R=function(){return Object(o.jsxs)("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"25px",height:"25px",viewBox:"0 0 286.054 286.054",xmlSpace:"preserve",children:[Object(o.jsx)("g",{children:Object(o.jsx)("path",{fill:"#f87171",d:"M143.027,0C64.04,0,0,64.04,0,143.027c0,78.996,64.04,143.027,143.027,143.027\r c78.996,0,143.027-64.022,143.027-143.027C286.054,64.04,222.022,0,143.027,0z M143.027,259.236\r c-64.183,0-116.209-52.026-116.209-116.209S78.844,26.818,143.027,26.818s116.209,52.026,116.209,116.209\r S207.21,259.236,143.027,259.236z M143.036,62.726c-10.244,0-17.995,5.346-17.995,13.981v79.201c0,8.644,7.75,13.972,17.995,13.972\r c9.994,0,17.995-5.551,17.995-13.972V76.707C161.03,68.277,153.03,62.726,143.036,62.726z M143.036,187.723\r c-9.842,0-17.852,8.01-17.852,17.86c0,9.833,8.01,17.843,17.852,17.843s17.843-8.01,17.843-17.843\r C160.878,195.732,152.878,187.723,143.036,187.723z"})}),Object(o.jsx)("g",{}),Object(o.jsx)("g",{}),Object(o.jsx)("g",{}),Object(o.jsx)("g",{}),Object(o.jsx)("g",{}),Object(o.jsx)("g",{}),Object(o.jsx)("g",{}),Object(o.jsx)("g",{}),Object(o.jsx)("g",{}),Object(o.jsx)("g",{}),Object(o.jsx)("g",{}),Object(o.jsx)("g",{}),Object(o.jsx)("g",{}),Object(o.jsx)("g",{}),Object(o.jsx)("g",{})]})},E=function(e){var t,r=e.label,n=e.serviceRequest,a=e.updateServiceRequest,c=e.addressErrorMessage,l=e.updateAddressErrorMessage,d=e.isValidAddress,u=e.updateIsValidAddress,b=Object(s.useState)(!1),j=Object(i.a)(b,2),m=j[0],x=j[1],h="We were unable to make this request. Please try again or contact us on 07 577 7000.",f="You need to select an address from the dropdown menu.";function p(e){return v.apply(this,arguments)}function v(){return(v=Object(y.a)(g.a.mark((function e(t){var r,s,c,o,d,b,j,m,f,p,v,y;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t){e.next=2;break}return e.abrupt("return");case 2:return x(!0),l(null),e.prev=4,e.next=7,Object(C.geocodeByAddress)(t);case 7:return r=e.sent,s=Object(i.a)(r,1),c=s[0],o=O(c.address_components,"route"),d=O(c.address_components,"sublocality"),b=O(c.address_components,"locality"),j=O(c.address_components,"postal_code"),m=O(c.address_components,"administrative_area_level_1"),f=O(c.address_components,"street_number"),e.next=18,Object(C.getLatLng)(c);case 18:p=e.sent,v=p.lat,y=p.lng,l(null),u(!0),a(Object(w.a)(Object(w.a)({},n),{},{addressComponents:Object(w.a)(Object(w.a)({},n.addressComponents),{},{streetNumber:f,roadName:o,suburbName:d,cityName:b,regionName:m,postCode:j,latitude:v,longitude:y,formattedAddress:c.formatted_address})})),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(4),l(h);case 28:return e.prev=28,x(!1),e.finish(28);case 31:case"end":return e.stop()}}),e,null,[[4,25,28,31]])})))).apply(this,arguments)}function O(e,t){var r=(e.find((function(e){return e.types.includes(t)}))||{}).long_name,s=void 0===r?"":r;return null===s?"":s}var N="w-full pl-3 py-3 focus:outline-none text-base placeholder-gray-500 text-gray-800",E="".concat(N," transition duration-300 ease-in-out pr-3 overflow-ellipsis whitespace-nowrap overflow-x-hidden focus:outline-none rounded border border-transparent focus:border-gray-800"),q="".concat(N," border-t border-l border-r border-gray-300 bg-white hover:bg-gray-100 flex flex-row items-center min-w-0 rounded-none"),A="".concat(q);return Object(o.jsx)("div",{className:"w-full h-full z-50 pb-4",children:Object(o.jsx)(k.a,{value:null===(null===(t=n.addressComponents)||void 0===t?void 0:t.formattedAddress)?"":n.addressComponents.formattedAddress,onSelect:p,searchOptions:{types:["address"],componentRestrictions:{country:["nz"]}},onChange:function(e){return function(e){l(null),u(!1),a(Object(w.a)(Object(w.a)({},n),{},{addressComponents:{streetNumber:null,roadName:null,suburbName:null,cityName:null,regionName:null,postCode:null,latitude:null,longitude:null,formattedAddress:e}}))}(e)},children:function(e){var t=e.getInputProps,s=e.suggestions,i=e.loading;return Object(o.jsxs)("div",{className:"relative w-full h-full bg-white shadow-sm rounded inline-block",onBlur:function(e){m||null===n.addressComponents.formattedAddress||""===n.addressComponents.formattedAddress||d||null!==c||l(f)},children:[Object(o.jsx)("input",Object(w.a)({"data-lpignore":"true",name:"StreetAddress",placeholder:r,title:r,id:"StreetAddress"},t({className:"".concat(E),autoComplete:"off",required:!0,results:3}))),c&&Object(o.jsxs)("div",{className:"m-4 p-2 mb-4 border border-red-400 rounded flex items-center",children:[Object(o.jsx)("p",{className:"text-red-400 flex-grow mr-4",children:c}),Object(o.jsx)("div",{className:"flex-shrink-0",children:Object(o.jsx)(R,{})})]}),i||m?Object(o.jsx)("div",{className:"absolute right-2 top-3 background-white-ie-fix w-8 h-6",children:Object(o.jsx)(S,{})}):Object(o.jsx)("div",{}),Object(o.jsx)("div",{className:"absolute w-full shadow-md z-50",children:s.map((function(e,t){if(t<3){var r=e.active?"bg-gray-100 cursor-pointer":"cursor-pointer";return Object(o.jsx)("div",{className:0===t?"".concat(A," ").concat(r):"".concat(q," ").concat(r),onMouseDown:function(){return t=e.description,a(Object(w.a)(Object(w.a)({},n),{},{addressComponents:Object(w.a)(Object(w.a)({},n.addressComponents),{},{formattedAddress:t})})),void p(t);var t},children:Object(o.jsx)("p",{className:"w-full truncate",children:e.description})},t)}return Object(o.jsx)("div",{},t)}))})]})}})})},q=function(e){var t=e.serviceRequest,r=e.label,s=e.serviceList,n=e.onChange,a=e.checkboxErrorMessage;return Object(o.jsxs)("div",{className:"flex flex-col items-start w-full mb-4 bg-white rounded px-4 py-3 border",children:[Object(o.jsx)("label",{htmlFor:r,className:"text-base text-gray-500 pb-4",children:r}),Object(o.jsx)("div",{className:"grid grid-cols-2 gap-1 w-full",children:Object.values(s).map((function(e,s){var a;return Object(o.jsxs)("div",{className:"flex flex-row items-center w-full",children:[Object(o.jsx)("input",{id:e,type:"checkbox",name:e,value:e,title:r,checked:!!(null===(a=t.service)||void 0===a?void 0:a.includes(e)),className:"mr-2",onChange:n}),Object(o.jsx)("label",{htmlFor:e,className:"text-base text-gray-800",children:e})]},s)}))}),a&&Object(o.jsxs)("div",{className:"mt-4 p-2 w-full border border-red-400 rounded flex items-center",children:[Object(o.jsx)("p",{className:"text-base text-red-400 flex-grow mr-4",children:a}),Object(o.jsx)("div",{className:"mr-2 flex-shrink-0",children:Object(o.jsx)(R,{})})]})]})},A=function(e){var t=e.label,r=e.required,s=void 0===r||r,n=e.onChange;return Object(o.jsx)("div",{className:"h-full w-full mb-4 flex flex-col",children:Object(o.jsx)("textarea",{id:t,name:t,title:t,placeholder:t,onChange:n,required:s,className:"border border-gray-300 pl-3 py-3 transition duration-300 ease-in-out shadow-sm rounded text-base focus:outline-none focus:border-gray-800 bg-white placeholder-gray-500 text-gray-800"})})},_=function(e){var t=e.type,r=void 0===t?"text":t,s=e.label,n=e.required,a=void 0===n||n,c=e.onChange,i=e.value;return Object(o.jsx)("div",{className:"h-full w-full mb-4 flex flex-col",children:Object(o.jsx)("input",{type:r,id:s,name:s,placeholder:s,onChange:c,required:a,title:s,value:i,className:"border border-gray-300 pl-3 py-3 transition duration-300 ease-in-out shadow-sm rounded text-base focus:outline-none focus:border-gray-800 bg-white placeholder-gray-500 text-gray-800"})})},M=(r(65),function(){return Object(o.jsx)("div",{className:"w-full flex flex-row items-center justify-center",children:Object(o.jsxs)("div",{className:"spinner flex flex-row items-center justify-center",children:[Object(o.jsx)("p",{className:"body-font opacity-0",children:"."}),Object(o.jsx)("div",{className:"bounce1"}),Object(o.jsx)("div",{className:"bounce2"}),Object(o.jsx)("div",{className:"bounce3"}),Object(o.jsx)("p",{className:"body-font opacity-0",children:"."})]})})}),L=function(e){var t=e.serviceRequest,r=e.updateServiceRequest,n=e.onSubmit,a=e.checkboxErrorMessage,c=e.updateCheckboxErrorMessage,l=e.isLoading,d=e.formErrorMessage,x=Object(s.useState)(null),f=Object(i.a)(x,2),p=f[0],v=f[1],O=Object(s.useState)(!1),g=Object(i.a)(O,2),y=g[0],C=g[1];return Object(o.jsxs)(h.a.form,{variants:m,initial:"initial",animate:"in",exit:"out",className:"flex flex-col items-center w-full",onSubmit:n,children:[Object(o.jsx)(h.a.div,{variants:m,className:"w-full",children:Object(o.jsx)(q,{serviceRequest:t,label:"Select the services that relate to your request. Please note that you must be a ratepayer to request any additional bins.",onChange:function(e){!function(e){c(null);var s,n=e.target.value;null===t.service?r(Object(w.a)(Object(w.a)({},t),{},{service:[n]})):(null===(s=t.service)||void 0===s?void 0:s.includes(n))?r(Object(w.a)(Object(w.a)({},t),{},{service:t.service.filter((function(e){return e!==n}))})):r(Object(w.a)(Object(w.a)({},t),{},{service:[].concat(Object(N.a)(t.service),[n])}))}(e)},serviceList:t.serviceRequest===u.additionalBin?j:b,checkboxErrorMessage:a})}),Object(o.jsx)(h.a.div,{variants:m,className:"w-full",children:Object(o.jsx)(A,{label:"Add any additional comments (optional)",required:!1,onChange:function(e){return r(Object(w.a)(Object(w.a)({},t),{},{comments:e.target.value}))}})}),(t.serviceRequest===u.additionalBin||t.serviceRequest===u.missedCollection)&&Object(o.jsxs)("div",{className:"w-full",children:[Object(o.jsx)(h.a.div,{variants:m,className:"w-full",children:Object(o.jsx)(_,{label:"Enter your full name",onChange:function(e){return r(Object(w.a)(Object(w.a)({},t),{},{name:e.target.value}))}})}),Object(o.jsx)(h.a.div,{variants:m,className:"w-full",children:Object(o.jsx)(_,{label:"Enter your phone number",type:"number",onChange:function(e){return r(Object(w.a)(Object(w.a)({},t),{},{phoneNumber:e.target.value}))}})})]}),t.serviceRequest===u.additionalBin&&Object(o.jsxs)("div",{className:"w-full",children:[Object(o.jsx)(h.a.div,{variants:m,className:"w-full",children:Object(o.jsx)(_,{label:"Enter your assessment number (no special characters)",value:null===t.assessmentNumber?"":t.assessmentNumber.replaceAll(/[^A-Za-z0-9]/g,""),onChange:function(e){return r(Object(w.a)(Object(w.a)({},t),{},{assessmentNumber:e.target.value}))}})}),Object(o.jsx)(h.a.div,{variants:m,className:"w-full",children:Object(o.jsx)(_,{label:"Enter your customer number (no special characters)",value:null===t.customerNumber?"":t.customerNumber.replaceAll(/[^A-Za-z0-9]/g,""),onChange:function(e){return r(Object(w.a)(Object(w.a)({},t),{},{customerNumber:e.target.value}))}})})]}),Object(o.jsx)(h.a.div,{variants:m,className:"w-full",children:Object(o.jsx)(E,{label:"Enter your address",serviceRequest:t,updateServiceRequest:r,addressErrorMessage:p,updateAddressErrorMessage:v,isValidAddress:y,updateIsValidAddress:C})}),d&&Object(o.jsx)(h.a.div,{variants:m,className:"mb-4 bg-white rounded w-full",children:Object(o.jsxs)("div",{className:"m-2 p-2 relative border border-red-400 rounded flex items-center justify-end",children:[Object(o.jsx)("p",{className:"mr-0 flex-grow text-red-400 ",children:d}),Object(o.jsx)("div",{className:"flex-shrink-0 mr-2",children:Object(o.jsx)(R,{})})]})}),Object(o.jsx)(h.a.div,{variants:m,className:"w-full flex justify-end",children:Object(o.jsx)("button",{type:"submit",disabled:null!==p||null!==a,className:"body-font disabled-cursor-style w-28 xl:w-40 text-white bg-wdc-green transition duration-300 ease-in-out hover:bg-wdc-green-lighter rounded py-2.5 md:py-3 focus:outline-none border border-transparent focus:border-gray-800",children:l?Object(o.jsx)(M,{}):"Submit"})})]})},P=function(e){var t=e.label,r=e.required,s=void 0===r||r,n=e.dropdownItems,a=e.onChange;return Object(o.jsx)("div",{className:"h-full w-full mb-4 flex flex-col",children:Object(o.jsxs)("div",{className:"shadow-sm rounded flex relative",children:[Object(o.jsxs)("select",{name:t,required:s,id:t,onChange:a,title:t,defaultValue:"",className:"bg-white appearance-none z-10 pl-3 text-base transition duration-300 ease-in-out placeholder-gray-500 text-gray-800 py-3 w-full border border-transparent focus:outline-none focus:border-gray-800 rounded",children:[Object(o.jsx)("option",{disabled:!0,value:"",children:"Select your service"}),n&&Object.values(n).map((function(e,t){return Object(o.jsx)("option",{value:e,children:e},t)}))]}),Object(o.jsxs)("div",{className:"px-4 flex items-center border-l border-gray-300 flex-col justify-center text-gray-500\r absolute right-0 bottom-0 top-0 mx-auto z-20 pointer-events-none ",children:[Object(o.jsxs)("svg",{tabIndex:-1,xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-chevron-up",width:16,height:16,viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[Object(o.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z"}),Object(o.jsx)("polyline",{points:"6 15 12 9 18 15"})]}),Object(o.jsxs)("svg",{tabIndex:-1,xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-chevron-down",width:16,height:16,viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[Object(o.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z"}),Object(o.jsx)("polyline",{points:"6 9 12 15 18 9"})]})]})]})})},T=r(30),B=r.n(T),z={requireLogin:!0,apiBaseUrl:"https://environz-api-dev.azurewebsites.net/API/",keys:{createServiceRequestKey:"wtxg8KH0Hy82VrO3SJyJ2oXSSZNAisYb5gL2hin1NuMHlRniAywYFA==",checkAddressKey:"ovF57taafv4Lg0MRzupyAv8umU9HEc0EQTf8PgcXAyGideLUvm90uQ=="}};B.a.defaults.baseURL=z.apiBaseUrl;var D={createServiceRequest:function(){var e=Object(y.a)(g.a.mark((function e(t){var r,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"dev",r={env:"dev",code:z.keys.createServiceRequestKey},e.next=5,B.a.post("tcc/createservicerequest",t,{params:r});case 5:return s=e.sent,e.abrupt("return",s);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),checkAddress:function(){var e=Object(y.a)(g.a.mark((function e(t,r,s){var n,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"dev",n={env:"dev",code:z.keys.checkAddressKey,street:t,postcode:r,assessmentNo:s},e.next=5,B.a.get("tcc/checkaddress",{params:n});case 5:return a=e.sent,e.abrupt("return",a);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,r,s){return e.apply(this,arguments)}}()},F=r(89),I=function(e){var t=e.initialState,r=e.serviceRequest,n=e.updateServiceRequest,a=e.updateHasCompletedForm,c=Object(s.useState)(null),l=Object(i.a)(c,2),d=l[0],b=l[1],j=Object(s.useState)(null),m=Object(i.a)(j,2),h=m[0],f=m[1],p=Object(s.useState)(!1),v=Object(i.a)(p,2),O=v[0],N=v[1],C=Object(x.f)(),k="You need to select a service from the checkboxes above.",S="We were unable to find an address with those details. Please try again later or contact us.",R="Something went wrong with this request. Please try again later or contact us.";function E(e){return q.apply(this,arguments)}function q(){return(q=Object(y.a)(g.a.mark((function e(t){var s,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),b(null),N(!0),T()){e.next=7;break}return f(k),N(!1),e.abrupt("return");case 7:return e.next=9,_();case 9:if(!e.sent){e.next=15;break}return n=Object.assign({},r,{service:null===(s=r.service)||void 0===s?void 0:s.toString()}),e.next=13,D.createServiceRequest(n);case 13:A(e.sent);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e){200===(null===e||void 0===e?void 0:e.status)?parseInt(e.data)&&(r.ticketNumber=parseInt(e.data),a(!0),N(!1),C.push("/confirmation")):(N(!1),b(R))}function _(){return M.apply(this,arguments)}function M(){return(M=Object(y.a)(g.a.mark((function e(){var t,s,n,a,c,i,o,l;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=r.addressComponents,n=s.streetNumber,a=s.roadName,c=s.postCode,i="".concat(n," ").concat(a),o=null!==(t=r.assessmentNumber)&&void 0!==t?t:"",e.next=5,D.checkAddress(i,null!==c&&void 0!==c?c:"",o);case 5:if(200!==(null===(l=e.sent)||void 0===l?void 0:l.status)){e.next=10;break}return e.abrupt("return",!0);case 10:if(400!==(null===l||void 0===l?void 0:l.status)||"Failed"!==(null===l||void 0===l?void 0:l.data)){e.next=14;break}return b(S),N(!1),e.abrupt("return",!1);case 14:return b(R),N(!1),e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return!(null===r.service||!r.service.length)}return Object(o.jsx)("div",{className:"sm:mt-10 mb-10 w-11/12 md:w-8/12 xl:6/12",children:Object(o.jsxs)("div",{className:"py-12 my-auto mx-auto flex flex-col items-start justify-start xl:w-4/5 2xl:w-6/12",children:[Object(o.jsxs)("h1",{className:"heading-font w-full text-left mb-6",children:["Report an issue with ",Object(o.jsx)("br",{}),"your waste services"]}),Object(o.jsx)(P,{label:"Please select your service request",dropdownItems:u,onChange:function(e){N(!1),b(null),f(null),n(Object(w.a)(Object(w.a)({},t),{},{serviceRequest:e.target.value}))}}),Object(o.jsxs)(F.a,{exitBeforeEnter:!0,children:[(null===r||void 0===r?void 0:r.serviceRequest)===u.damagedBin&&Object(o.jsx)(L,{serviceRequest:r,updateServiceRequest:n,onSubmit:function(e){return E(e)},checkboxErrorMessage:h,updateCheckboxErrorMessage:f,isLoading:O,formErrorMessage:d},1),(null===r||void 0===r?void 0:r.serviceRequest)===u.missingBin&&Object(o.jsx)(L,{serviceRequest:r,updateServiceRequest:n,onSubmit:function(e){return E(e)},checkboxErrorMessage:h,updateCheckboxErrorMessage:f,isLoading:O,formErrorMessage:d},2),(null===r||void 0===r?void 0:r.serviceRequest)===u.additionalBin&&Object(o.jsx)(L,{serviceRequest:r,updateServiceRequest:n,onSubmit:function(e){return E(e)},checkboxErrorMessage:h,updateCheckboxErrorMessage:f,isLoading:O,formErrorMessage:d},3),(null===r||void 0===r?void 0:r.serviceRequest)===u.missedCollection&&Object(o.jsx)(L,{serviceRequest:r,updateServiceRequest:n,onSubmit:function(e){return E(e)},checkboxErrorMessage:h,updateCheckboxErrorMessage:f,isLoading:O,formErrorMessage:d},4)]})]})})};r(84);var H=function(){var e=Object(s.useState)(!1),t=Object(i.a)(e,2),r=t[0],n=t[1],a=Object(x.g)(),c={ticketNumber:0,serviceRequest:null,service:null,comments:null,addressComponents:{formattedAddress:null,streetNumber:null,roadName:null,suburbName:null,cityName:null,postCode:null,regionName:null,latitude:null,longitude:null},name:null,phoneNumber:null,assessmentNumber:null,customerNumber:null,wasteDetails:{wasteDescription:null,approxAmount:null,duration:null,whoDumped:null,occurredPreviously:null},publicLitterType:null,looseLitterType:null},u=Object(s.useState)(c),b=Object(i.a)(u,2),j=b[0],m=b[1],h=Object(s.useState)(!1),O=Object(i.a)(h,2),g=O[0],w=O[1];return r?Object(o.jsxs)("div",{className:"overflow-x-hidden",children:[Object(o.jsxs)("div",{className:"min-h-screen bg-wdc-background bg-tcc-blue bg-cover bg-center bg-fixed bg-no-repeat w-full flex flex-col items-center justify-start relative",children:[Object(o.jsx)(v,{}),Object(o.jsx)("div",{className:"bg-wdc-grey h-10 w-full"}),Object(o.jsx)(F.a,{exitBeforeEnter:!0,children:Object(o.jsxs)(x.c,{location:a,children:[Object(o.jsx)(x.a,{exact:!0,path:"/",children:Object(o.jsx)(I,{serviceRequest:j,updateServiceRequest:m,initialState:c,hasCompletedForm:g,updateHasCompletedForm:w})}),Object(o.jsx)(x.a,{exact:!0,path:"/confirmation",children:Object(o.jsx)(f,{hasCompletedForm:g,serviceRequest:j})},"confirmation-page"),Object(o.jsx)(p,{})]},a.key)}),Object(o.jsx)("div",{className:"bg-wdc-primary h-10 w-full self-stretch absolute bottom-0",children:Object(o.jsx)("div",{className:"bg-wdc-primary transform -translate-x-1/2 rotate-45 h-10 w-10 absolute left-1/2 -bottom-1/2"})})]}),Object(o.jsx)(d,{})]}):Object(o.jsx)(l,{updateLogin:n})},W=r(34);r(85);c.a.render(Object(o.jsx)(n.a.StrictMode,{children:Object(o.jsx)(W.a,{children:Object(o.jsx)(H,{})})}),document.getElementById("root"))}},[[86,1,2]]]);
//# sourceMappingURL=main.bce63520.chunk.js.map