(this["webpackJsonpcouncil-service-request"]=this["webpackJsonpcouncil-service-request"]||[]).push([[0],{67:function(e,t,s){},68:function(e,t,s){},69:function(e,t,s){},88:function(e,t,s){},89:function(e,t,s){},90:function(e,t,s){"use strict";s.r(t);var r=s(1),a=s.n(r),n=s(20),c=s.n(n),i=s(6),l=s(0),o=function(e){var t=e.updateLogin,s=Object(r.useState)(""),a=Object(i.a)(s,2),n=a[0],c=a[1],o=Object(r.useState)(""),d=Object(i.a)(o,2),u=d[0],b=d[1],j=Object(r.useState)(""),m=Object(i.a)(j,2),x=m[0],f=m[1];function h(){"councilservice"!==n||"ticketingsystem"!==u?f("Incorrect username or password"):t(!0)}return Object(l.jsx)("div",{className:"h-screen w-screen bg-gray-50 flex flex-col items-center justify-center",onKeyPress:function(e){"Enter"===e.key&&h()},children:Object(l.jsxs)("form",{className:"flex flex-col items-center px-8 py-6 background-white-ie-fix shadow-xl border border-gray-300 rounded-lg",onSubmit:function(e){e.preventDefault(),h()},children:[Object(l.jsx)("input",{type:"text",placeholder:"Username",className:"p-2 bg-gray-200 border border-black-true",onChange:function(e){return c(e.target.value)}}),Object(l.jsx)("input",{type:"password",placeholder:"Password",className:"mt-2 p-2 bg-gray-200 border border-black-true",onChange:function(e){return b(e.target.value)}}),x&&Object(l.jsx)("p",{className:"mt-2 text-red-600",children:x}),Object(l.jsx)("button",{type:"submit",className:"mt-4 px-4 py-2 border border-black-true ",children:"Login"})]})})},d=function(){return Object(l.jsx)("div",{className:"bg-tcc-grey w-full py-12",children:Object(l.jsx)("div",{className:"w-11/12 md:w-8/12 mx-auto flex flex-row items-center justify-center sm:justify-end",children:Object(l.jsxs)("div",{className:"flex flex-col items-start text-white",children:[Object(l.jsx)("p",{className:"confirmation-font mb-4",children:"Need help?"}),Object(l.jsx)("a",{href:"tel:+6475777000",children:Object(l.jsx)("p",{className:"body-font text-white",children:"+64 7 577 7000"})}),Object(l.jsx)("a",{href:"mailto:info@tauranga.govt.nz",children:Object(l.jsx)("p",{className:"body-font text-white",children:"info@tauranga.govt.nz"})})]})})})},u={damagedBin:"Damaged Bin",missingBin:"Missing Bin",additionalBin:"Additional Bin",missedCollection:"Missed Collection",illegalDumping:"Illegal Dumping",publicLitterBins:"Public Litter Bins",looseLitter:"Loose Litter"},b={rubbish:"Rubbish",recycling:"Recycling",food:"Food",glass:"Glass",gardenWaste:"Garden waste"},j={rubbish:"Rubbish",food:"Food",glass:"Glass"},m={overflowPublicBins:"Overflowing Public Bins",odorousPublicBins:"Odorous Public Bins"},x={reserves:"Reserves",carpark:"Carpark",walkway:"Walkway",footpath:"Footpath"},f={initial:{opacity:0,scale:.9},in:{opacity:1,scale:1,transition:{ease:"easeInOut",duration:.2,staggerChildren:.075}},out:{opacity:0,transition:{duration:.075}}},h=s(7),v=s(92),p=function(e){var t=e.hasCompletedForm,s=e.serviceRequest,a=Object(h.f)();return Object(r.useEffect)((function(){t||a.replace("/")}),[a,t]),Object(r.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),[]),Object(l.jsx)(v.a.div,{variants:f,initial:"initial",animate:"in",exit:"out",className:"sm:mt-10 mb-10 w-11/12 md:w-8/12 xl:6/12",children:Object(l.jsxs)("div",{className:"py-12 my-auto mx-auto flex flex-col items-start justify-start xl:w-4/5 2xl:w-6/12",children:[Object(l.jsx)(v.a.h1,{variants:f,className:"heading-font mb-6 xl:mb-10 w-full text-left",children:"Thank you"}),Object(l.jsx)(v.a.p,{variants:f,className:"mb-3 confirmation-font",children:"We'll be in touch with you as soon as possible."}),Object(l.jsx)(v.a.p,{variants:f,className:"mb-10 xl:mb-16 confirmation-font",children:"Your ticket number is #".concat(s.ticketNumber,".\nPlease keep this number as a reference for all enquiries related to this job.")}),Object(l.jsxs)(v.a.div,{variants:f,className:"flex items-center",children:[Object(l.jsx)("a",{href:"/",className:"mr-4 body-font text-white bg-tcc-green transition duration-300 ease-in-out hover:bg-tcc-green-lighter rounded px-6 py-2.5 md:px-10 md:py-3 focus:outline-none border border-transparent focus:border-gray-800",children:"Report another issue"}),Object(l.jsx)("a",{href:"https://www.tauranga.govt.nz/",className:"body-font text-white bg-tcc-green transition duration-300 ease-in-out hover:bg-tcc-green-lighter rounded px-6 py-2.5 md:px-10 md:py-3 focus:outline-none border border-transparent focus:border-gray-800",children:"TCC website"})]})]})})},O=function(){return Object(l.jsx)("div",{className:"sm:mt-10 mb-10 w-11/12 md:w-8/12 xl:6/12",children:Object(l.jsxs)("div",{className:"py-12 my-auto mx-auto flex flex-col items-start justify-start xl:w-4/5 2xl:w-6/12",children:[Object(l.jsx)("h1",{className:"heading-font mb-6 xl:mb-10 w-full text-left",children:"Page Not Found"}),Object(l.jsx)("p",{className:"mb-10 xl:mb-16 confirmation-font",children:"We couldn't find the page you were looking for. Click the button below to return to the homepage."}),Object(l.jsx)("a",{href:"/",className:"mr-4 body-font text-white bg-tcc-green transition duration-300 ease-in-out hover:bg-tcc-green-lighter rounded px-6 py-2.5 md:px-10 md:py-3 focus:outline-none border border-transparent focus:border-gray-800",children:"Take me home"})]})})},g=function(){return Object(l.jsx)("div",{className:"w-full h-24 md:h-28 bg-white flex flex-col items-center border-b border-gray-100 shadow",children:Object(l.jsx)("div",{className:"h-full w-11/12 md:w-8/12 flex flex-row items-center justify-center sm:justify-start",children:Object(l.jsx)("img",{src:"tcc-logo.png",alt:"Tauranga City Council logo",className:"h-16 md:h-20"})})})},w=s(10),y=s.n(w),N=s(3),S=s(22),q=s(51),k=s(32),C=s.n(k),R=(s(67),function(){return Object(l.jsx)("div",{className:"h-full",children:Object(l.jsxs)("div",{className:"lds-ring flex flex-col items-center justify-center h-full",children:[Object(l.jsx)("div",{}),Object(l.jsx)("div",{}),Object(l.jsx)("div",{}),Object(l.jsx)("div",{})]})})}),M=function(){return Object(l.jsxs)("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"25px",height:"25px",viewBox:"0 0 286.054 286.054",xmlSpace:"preserve",children:[Object(l.jsx)("g",{children:Object(l.jsx)("path",{fill:"#f87171",d:"M143.027,0C64.04,0,0,64.04,0,143.027c0,78.996,64.04,143.027,143.027,143.027\r c78.996,0,143.027-64.022,143.027-143.027C286.054,64.04,222.022,0,143.027,0z M143.027,259.236\r c-64.183,0-116.209-52.026-116.209-116.209S78.844,26.818,143.027,26.818s116.209,52.026,116.209,116.209\r S207.21,259.236,143.027,259.236z M143.036,62.726c-10.244,0-17.995,5.346-17.995,13.981v79.201c0,8.644,7.75,13.972,17.995,13.972\r c9.994,0,17.995-5.551,17.995-13.972V76.707C161.03,68.277,153.03,62.726,143.036,62.726z M143.036,187.723\r c-9.842,0-17.852,8.01-17.852,17.86c0,9.833,8.01,17.843,17.852,17.843s17.843-8.01,17.843-17.843\r C160.878,195.732,152.878,187.723,143.036,187.723z"})}),Object(l.jsx)("g",{}),Object(l.jsx)("g",{}),Object(l.jsx)("g",{}),Object(l.jsx)("g",{}),Object(l.jsx)("g",{}),Object(l.jsx)("g",{}),Object(l.jsx)("g",{}),Object(l.jsx)("g",{}),Object(l.jsx)("g",{}),Object(l.jsx)("g",{}),Object(l.jsx)("g",{}),Object(l.jsx)("g",{}),Object(l.jsx)("g",{}),Object(l.jsx)("g",{}),Object(l.jsx)("g",{})]})},E=function(e){var t,s=e.label,a=e.serviceRequest,n=e.updateServiceRequest,c=e.addressErrorMessage,o=e.updateAddressErrorMessage,d=e.isValidAddress,u=e.updateIsValidAddress,b=Object(r.useState)(!1),j=Object(i.a)(b,2),m=j[0],x=j[1],f="We were unable to find your address. Please try again or contact us on 07 577 7000.",h="We were unable to make this request. Please try again or contact us on 07 577 7000.",v="You need to select an address from the dropdown menu.";function p(e){return O.apply(this,arguments)}function O(){return(O=Object(S.a)(y.a.mark((function e(t){var s,r,c,l,d,b,j,m,v,p,O,w;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t){e.next=2;break}return e.abrupt("return");case 2:return x(!0),o(null),e.prev=4,e.next=7,Object(k.geocodeByAddress)(t);case 7:return s=e.sent,r=Object(i.a)(s,1),c=r[0],l=g(c.address_components,"route"),d=g(c.address_components,"sublocality"),b=g(c.address_components,"locality"),j=g(c.address_components,"postal_code"),m=g(c.address_components,"administrative_area_level_1"),v=g(c.address_components,"street_number"),e.next=18,Object(k.getLatLng)(c);case 18:if(p=e.sent,O=p.lat,w=p.lng,""!==j){e.next=26;break}return x(!1),o(f),e.abrupt("return");case 26:o(null),x(!1),u(!0),n(Object(N.a)(Object(N.a)({},a),{},{addressComponents:Object(N.a)(Object(N.a)({},a.addressComponents),{},{streetNumber:v,roadName:l,suburbName:d,cityName:b,regionName:m,postCode:j,latitude:O,longitude:w,formattedAddress:c.formatted_address})}));case 30:e.next=36;break;case 32:e.prev=32,e.t0=e.catch(4),x(!1),o(h);case 36:case"end":return e.stop()}}),e,null,[[4,32]])})))).apply(this,arguments)}function g(e,t){var s=(e.find((function(e){return e.types.includes(t)}))||{}).long_name,r=void 0===s?"":s;return null===r?"":r}var w="w-full pl-3 py-3 focus:outline-none text-base placeholder-gray-500 text-gray-800",q="".concat(w," transition duration-300 ease-in-out pr-3 overflow-ellipsis whitespace-nowrap overflow-x-hidden focus:outline-none rounded border border-transparent focus:border-gray-800"),E="".concat(w," border-t border-l border-r border-gray-300 bg-white hover:bg-gray-100 flex flex-row items-center min-w-0 rounded-none"),A="".concat(E);return Object(l.jsx)("div",{className:"w-full h-full z-50 pb-4",children:Object(l.jsx)(C.a,{value:null===(null===(t=a.addressComponents)||void 0===t?void 0:t.formattedAddress)?"":a.addressComponents.formattedAddress,onSelect:p,searchOptions:{types:["address"],componentRestrictions:{country:["nz"]}},onChange:function(e){return function(e){o(null),u(!1),n(Object(N.a)(Object(N.a)({},a),{},{addressComponents:{streetNumber:null,roadName:null,suburbName:null,cityName:null,regionName:null,postCode:null,latitude:null,longitude:null,formattedAddress:e}}))}(e)},children:function(e){var t=e.getInputProps,r=e.suggestions,i=e.loading;return Object(l.jsxs)("div",{className:"relative w-full h-full bg-white shadow-sm rounded inline-block",onBlur:function(e){m||null===a.addressComponents.formattedAddress||""===a.addressComponents.formattedAddress||d||null!==c||o(v)},children:[Object(l.jsx)("input",Object(N.a)({"data-lpignore":"true",name:"StreetAddress",placeholder:s,title:s,id:"StreetAddress"},t({className:"".concat(q),autoComplete:"off",required:!0,results:3}))),c&&Object(l.jsxs)("div",{className:"m-4 p-2 mb-4 border border-red-400 rounded flex items-center",children:[Object(l.jsx)("p",{className:"text-red-400 flex-grow mr-4",children:c}),Object(l.jsx)("div",{className:"flex-shrink-0",children:Object(l.jsx)(M,{})})]}),i||m?Object(l.jsx)("div",{className:"absolute right-2 top-3 background-white-ie-fix w-8 h-6",children:Object(l.jsx)(R,{})}):Object(l.jsx)("div",{}),Object(l.jsx)("div",{className:"absolute w-full shadow-md z-50",children:r.map((function(e,t){if(t<3){var s=e.active?"bg-gray-100 cursor-pointer":"cursor-pointer";return Object(l.jsx)("div",{className:0===t?"".concat(A," ").concat(s):"".concat(E," ").concat(s),onMouseDown:function(){return t=e.description,n(Object(N.a)(Object(N.a)({},a),{},{addressComponents:Object(N.a)(Object(N.a)({},a.addressComponents),{},{formattedAddress:t})})),void p(t);var t},children:Object(l.jsx)("p",{className:"w-full truncate",children:e.description})},t)}return Object(l.jsx)("div",{},t)}))})]})}})})},A=function(e){var t=e.serviceRequest,s=e.label,r=e.serviceList,a=e.onChange,n=e.checkboxErrorMessage;return Object(l.jsxs)("div",{className:"flex flex-col items-start w-full mb-4 bg-white rounded px-4 py-3 border",children:[Object(l.jsx)("label",{htmlFor:s,className:"text-base text-gray-500 pb-4",children:s}),Object(l.jsx)("div",{className:"grid grid-cols-2 gap-1 w-full",children:Object.values(r).map((function(e,r){var n;return Object(l.jsxs)("div",{className:"flex flex-row items-center w-full",children:[Object(l.jsx)("input",{id:e,type:"checkbox",name:e,value:e,title:s,checked:!!(null===(n=t.service)||void 0===n?void 0:n.includes(e)),className:"mr-2",onChange:a}),Object(l.jsx)("label",{htmlFor:e,className:"text-base text-gray-800",children:e})]},r)}))}),n&&Object(l.jsxs)("div",{className:"mt-4 p-2 w-full border border-red-400 rounded flex items-center",children:[Object(l.jsx)("p",{className:"text-base text-red-400 flex-grow mr-4",children:n}),Object(l.jsx)("div",{className:"mr-2 flex-shrink-0",children:Object(l.jsx)(M,{})})]})]})},L=function(e){var t=e.label,s=e.required,r=void 0===s||s,a=e.onChange;return Object(l.jsx)("div",{className:"h-full w-full mb-4 flex flex-col",children:Object(l.jsx)("textarea",{id:t,name:t,title:t,placeholder:t,onChange:a,required:r,className:"border border-gray-300 pl-3 py-3 transition duration-300 ease-in-out shadow-sm rounded text-base focus:outline-none focus:border-gray-800 bg-white placeholder-gray-500 text-gray-800"})})},D=function(e){var t=e.type,s=void 0===t?"text":t,r=e.label,a=e.required,n=void 0===a||a,c=e.onChange,i=e.value;return Object(l.jsx)("div",{className:"h-full w-full mb-4 flex flex-col",children:Object(l.jsx)("input",{type:s,id:r,name:r,placeholder:r,onChange:c,required:n,title:r,value:i,className:"border border-gray-300 pl-3 py-3 transition duration-300 ease-in-out shadow-sm rounded text-base focus:outline-none focus:border-gray-800 bg-white placeholder-gray-500 text-gray-800"})})},B=(s(68),function(){return Object(l.jsx)("div",{className:"w-full flex flex-row items-center justify-center",children:Object(l.jsxs)("div",{className:"spinner flex flex-row items-center justify-center",children:[Object(l.jsx)("p",{className:"body-font opacity-0",children:"."}),Object(l.jsx)("div",{className:"bounce1"}),Object(l.jsx)("div",{className:"bounce2"}),Object(l.jsx)("div",{className:"bounce3"}),Object(l.jsx)("p",{className:"body-font opacity-0",children:"."})]})})}),z=function(e){var t=e.serviceRequest,s=e.updateServiceRequest,a=e.onSubmit,n=e.checkboxErrorMessage,c=e.updateCheckboxErrorMessage,o=e.isLoading,d=e.formErrorMessage,m=Object(r.useState)(null),x=Object(i.a)(m,2),h=x[0],p=x[1],O=Object(r.useState)(!1),g=Object(i.a)(O,2),w=g[0],y=g[1];return Object(l.jsxs)(v.a.form,{variants:f,initial:"initial",animate:"in",exit:"out",className:"flex flex-col items-center w-full",onSubmit:a,children:[Object(l.jsx)(v.a.div,{variants:f,className:"w-full",children:Object(l.jsx)(A,{serviceRequest:t,label:"Select the services that relate to your request",onChange:function(e){!function(e){c(null);var r,a=e.target.value;null===t.service?s(Object(N.a)(Object(N.a)({},t),{},{service:[a]})):(null===(r=t.service)||void 0===r?void 0:r.includes(a))?s(Object(N.a)(Object(N.a)({},t),{},{service:t.service.filter((function(e){return e!==a}))})):s(Object(N.a)(Object(N.a)({},t),{},{service:[].concat(Object(q.a)(t.service),[a])}))}(e)},serviceList:t.serviceRequest===u.additionalBin?j:b,checkboxErrorMessage:n})}),Object(l.jsx)(v.a.div,{variants:f,className:"w-full",children:Object(l.jsx)(L,{label:"Add any additional comments (optional)",required:!1,onChange:function(e){return s(Object(N.a)(Object(N.a)({},t),{},{comments:e.target.value}))}})}),t.serviceRequest===u.additionalBin&&Object(l.jsx)(v.a.div,{variants:f,className:"w-full",children:Object(l.jsx)(D,{label:"Enter your assessment number (no special characters)",value:null===t.assessmentNumber?"":t.assessmentNumber.replaceAll(/[^A-Za-z0-9]/g,""),onChange:function(e){return s(Object(N.a)(Object(N.a)({},t),{},{assessmentNumber:e.target.value}))}})}),Object(l.jsx)(v.a.div,{variants:f,className:"w-full",children:Object(l.jsx)(E,{label:"Enter your address",serviceRequest:t,updateServiceRequest:s,addressErrorMessage:h,updateAddressErrorMessage:p,isValidAddress:w,updateIsValidAddress:y})}),d&&Object(l.jsx)(v.a.div,{variants:f,className:"mb-4 bg-white rounded w-full",children:Object(l.jsxs)("div",{className:"m-2 p-2 relative border border-red-400 rounded flex items-center justify-end",children:[Object(l.jsx)("p",{className:"mr-0 flex-grow text-red-400 ",children:d}),Object(l.jsx)("div",{className:"flex-shrink-0 mr-2",children:Object(l.jsx)(M,{})})]})}),Object(l.jsx)(v.a.div,{variants:f,className:"w-full flex justify-end",children:Object(l.jsx)("button",{type:"submit",disabled:null!==h||null!==n,className:"body-font disabled-cursor-style w-28 xl:w-40 text-white bg-tcc-green transition duration-300 ease-in-out hover:bg-tcc-green-lighter rounded py-2.5 md:py-3 focus:outline-none border border-transparent focus:border-gray-800",children:o?Object(l.jsx)(B,{}):"Submit"})})]})},P=function(e){var t=e.label,s=e.required,r=void 0===s||s,a=e.dropdownItems,n=e.onChange;return Object(l.jsx)("div",{className:"h-full w-full mb-4 flex flex-col",children:Object(l.jsxs)("div",{className:"shadow-sm rounded flex relative",children:[Object(l.jsxs)("select",{name:t,required:r,id:t,onChange:n,title:t,defaultValue:"",className:"bg-white appearance-none z-10 pl-3 text-base transition duration-300 ease-in-out placeholder-gray-500 text-gray-800 py-3 w-full border border-transparent focus:outline-none focus:border-gray-800 rounded",children:[Object(l.jsx)("option",{disabled:!0,value:"",children:"Select your service"}),a&&Object.values(a).map((function(e,t){return Object(l.jsx)("option",{value:e,children:e},t)}))]}),Object(l.jsxs)("div",{className:"px-4 flex items-center border-l border-gray-300 flex-col justify-center text-gray-500\r absolute right-0 bottom-0 top-0 mx-auto z-20 pointer-events-none ",children:[Object(l.jsxs)("svg",{tabIndex:-1,xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-chevron-up",width:16,height:16,viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[Object(l.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z"}),Object(l.jsx)("polyline",{points:"6 15 12 9 18 15"})]}),Object(l.jsxs)("svg",{tabIndex:-1,xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-chevron-down",width:16,height:16,viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[Object(l.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z"}),Object(l.jsx)("polyline",{points:"6 9 12 15 18 9"})]})]})]})})},I=s(52),F=(s(69),function(e){e.lat,e.lng;return Object(l.jsx)("img",{src:"marker.png",alt:"",className:"correct-position h-12"})}),_=function(e){var t,s,a=e.serviceRequest,n=e.updateServiceRequest,c=Object(r.useState)(!0),o=Object(i.a)(c,2),d=o[0],u=o[1],b=Object(r.useState)(null),j=Object(i.a)(b,2),m=j[0],x=j[1],f=Object(r.useState)(4),h=Object(i.a)(f,2),v=h[0],p=h[1],O=Object(r.useState)({lat:-41.3003361,lng:173.2186754}),g=Object(i.a)(O,2),w=g[0],y=g[1],S=Object(r.useMemo)((function(){return{lat:a.addressComponents.latitude,lng:a.addressComponents.longitude}}),[a.addressComponents]);return Object(r.useEffect)((function(){null!==S.lat&&null!==S.lng&&(x({lat:S.lat,lng:S.lng}),y(S),p(18))}),[S]),Object(l.jsx)("div",{className:"w-full mb-4",children:Object(l.jsxs)("div",{className:"h-80 w-full relative",children:[Object(l.jsx)("p",{className:"hidden sm:block bg-white p-2 text-base text-gray-500 rounded border border-gray-100 shadow whitespace-nowrap absolute top-2 right-2 z-10 opacity-90",children:"Drag and drop the marker for greater accuracy"}),Object(l.jsx)(I.a,{bootstrapURLKeys:{key:"AIzaSyDBUKNe73SRE3Tr1K1crTDO1Jrw6FKSlS0"},center:null==w.lat||null==w.lng?{lat:-41.3003361,lng:173.2186754}:{lat:w.lat,lng:w.lng},zoom:v,draggable:d,options:{scrollwheel:!0,fullscreenControl:!1},onChildMouseDown:function(){return u(!1)},onChildMouseMove:function(e,t,s){return x({lat:s.lat,lng:s.lng})},onChildMouseUp:function(){u(!0),m&&n(Object(N.a)(Object(N.a)({},a),{},{addressComponents:Object(N.a)(Object(N.a)({},a.addressComponents),{},{latitude:m.lat,longitude:m.lng})}))},children:m&&Object(l.jsx)(F,{lat:null!==(t=m.lat)&&void 0!==t?t:-41.3003361,lng:null!==(s=m.lng)&&void 0!==s?s:173.2186754})})]})})},V=function(e){var t=e.serviceRequest,s=e.updateServiceRequest,a=e.onSubmit,n=e.isLoading,c=e.formErrorMessage,o=Object(r.useState)(null),d=Object(i.a)(o,2),u=d[0],b=d[1],j=Object(r.useState)(!1),m=Object(i.a)(j,2),x=m[0],h=m[1];return Object(l.jsxs)(v.a.form,{variants:f,initial:"initial",animate:"in",exit:"out",className:"flex flex-col items-center w-full",onSubmit:a,children:[Object(l.jsx)(v.a.div,{variants:f,className:"w-full",children:Object(l.jsx)(D,{label:"Please describe the waste",onChange:function(e){return s(Object(N.a)(Object(N.a)({},t),{},{wasteDetails:Object(N.a)(Object(N.a)({},t.wasteDetails),{},{wasteDescription:e.target.value})}))}})}),Object(l.jsx)(v.a.div,{variants:f,className:"w-full",children:Object(l.jsx)(D,{label:"What is the approximate volume of the waste?",onChange:function(e){return s(Object(N.a)(Object(N.a)({},t),{},{wasteDetails:Object(N.a)(Object(N.a)({},t.wasteDetails),{},{approxAmount:e.target.value})}))}})}),Object(l.jsx)(v.a.div,{variants:f,className:"w-full",children:Object(l.jsx)(D,{label:"How long has the waste been in the area? (optional)",required:!1,onChange:function(e){return s(Object(N.a)(Object(N.a)({},t),{},{wasteDetails:Object(N.a)(Object(N.a)({},t.wasteDetails),{},{duration:e.target.value})}))}})}),Object(l.jsx)(v.a.div,{variants:f,className:"w-full",children:Object(l.jsx)(D,{label:"Who dumped the waste? (optional)",required:!1,onChange:function(e){return s(Object(N.a)(Object(N.a)({},t),{},{wasteDetails:Object(N.a)(Object(N.a)({},t.wasteDetails),{},{whoDumped:e.target.value})}))}})}),Object(l.jsx)(v.a.div,{variants:f,className:"w-full",children:Object(l.jsx)(D,{label:"Has this type of dumping occurred in the past? (optional)",required:!1,onChange:function(e){return s(Object(N.a)(Object(N.a)({},t),{},{wasteDetails:Object(N.a)(Object(N.a)({},t.wasteDetails),{},{occurredPreviously:e.target.value})}))}})}),Object(l.jsx)(v.a.div,{variants:f,className:"w-full",children:Object(l.jsx)(L,{label:"Add any additional comments (optional)",required:!1,onChange:function(e){return s(Object(N.a)(Object(N.a)({},t),{},{comments:e.target.value}))}})}),Object(l.jsx)(v.a.div,{variants:f,className:"w-full z-50",children:Object(l.jsx)(E,{label:"Enter the approximate address",serviceRequest:t,updateServiceRequest:s,addressErrorMessage:u,updateAddressErrorMessage:b,isValidAddress:x,updateIsValidAddress:h})}),Object(l.jsx)(v.a.div,{variants:f,className:"w-full",children:Object(l.jsx)(_,{serviceRequest:t,updateServiceRequest:s})}),c&&Object(l.jsx)(v.a.div,{variants:f,className:"mb-4 bg-white rounded w-full",children:Object(l.jsxs)("div",{className:"m-2 p-2 relative border border-red-400 rounded flex items-center justify-end",children:[Object(l.jsx)("p",{className:"mr-0 flex-grow text-red-400 ",children:c}),Object(l.jsx)("div",{className:"flex-shrink-0 mr-2",children:Object(l.jsx)(M,{})})]})}),Object(l.jsx)(v.a.div,{variants:f,className:"w-full flex items-start justify-end",children:Object(l.jsx)("button",{type:"submit",disabled:null!==u,className:"body-font disabled-cursor-style flex-shrink-0 w-28 xl:w-40 text-white bg-tcc-green transition duration-300 ease-in-out hover:bg-tcc-green-lighter rounded py-2.5 md:py-3 focus:outline-none border border-transparent focus:border-gray-800",children:n?Object(l.jsx)(B,{}):"Submit"})})]})},T=function(e){var t=e.serviceRequest,s=e.updateServiceRequest,a=e.onSubmit,n=e.isLoading,c=e.formErrorMessage,o=Object(r.useState)(null),d=Object(i.a)(o,2),u=d[0],b=d[1],j=Object(r.useState)(!1),x=Object(i.a)(j,2),h=x[0],p=x[1];return Object(l.jsxs)(v.a.form,{variants:f,initial:"initial",animate:"in",exit:"out",className:"flex flex-col items-center w-full",onSubmit:a,children:[Object(l.jsx)(v.a.div,{variants:f,className:"w-full",children:Object(l.jsx)(P,{label:"Select from the following",dropdownItems:m,onChange:function(e){return s(Object(N.a)(Object(N.a)({},t),{},{publicLitterType:e.target.value}))}})}),Object(l.jsx)(v.a.div,{variants:f,className:"w-full",children:Object(l.jsx)(L,{label:"Add any additional comments (optional)",required:!1,onChange:function(e){return s(Object(N.a)(Object(N.a)({},t),{},{comments:e.target.value}))}})}),Object(l.jsx)(v.a.div,{variants:f,className:"w-full z-50",children:Object(l.jsx)(E,{label:"Enter the approximate address",serviceRequest:t,updateServiceRequest:s,addressErrorMessage:u,updateAddressErrorMessage:b,isValidAddress:h,updateIsValidAddress:p})}),Object(l.jsx)(v.a.div,{variants:f,className:"w-full",children:Object(l.jsx)(_,{serviceRequest:t,updateServiceRequest:s})}),c&&Object(l.jsx)(v.a.div,{variants:f,className:"mb-4 bg-white rounded w-full",children:Object(l.jsxs)("div",{className:"m-2 p-2 relative border border-red-400 rounded flex items-center justify-end",children:[Object(l.jsx)("p",{className:"mr-0 flex-grow text-red-400 ",children:c}),Object(l.jsx)("div",{className:"flex-shrink-0 mr-2",children:Object(l.jsx)(M,{})})]})}),Object(l.jsx)(v.a.div,{variants:f,className:"w-full flex justify-end",children:Object(l.jsx)("button",{type:"submit",disabled:null!==u,className:"body-font disabled-cursor-style w-28 xl:w-40 text-white bg-tcc-green transition duration-300 ease-in-out hover:bg-tcc-green-lighter rounded py-2.5 md:py-3 focus:outline-none border border-transparent focus:border-gray-800",children:n?Object(l.jsx)(B,{}):"Submit"})})]})},W=function(e){var t=e.serviceRequest,s=e.updateServiceRequest,a=e.onSubmit,n=e.isLoading,c=e.formErrorMessage,o=Object(r.useState)(null),d=Object(i.a)(o,2),u=d[0],b=d[1],j=Object(r.useState)(!1),m=Object(i.a)(j,2),h=m[0],p=m[1];return Object(l.jsxs)(v.a.form,{variants:f,initial:"initial",animate:"in",exit:"out",className:"flex flex-col items-center w-full",onSubmit:a,children:[Object(l.jsx)(v.a.div,{variants:f,className:"w-full",children:Object(l.jsx)(P,{label:"Select an option",dropdownItems:x,onChange:function(e){return s(Object(N.a)(Object(N.a)({},t),{},{looseLitterType:e.target.value}))}})}),Object(l.jsx)(v.a.div,{variants:f,className:"w-full",children:Object(l.jsx)(D,{label:"Please describe the waste",onChange:function(e){return s(Object(N.a)(Object(N.a)({},t),{},{wasteDetails:Object(N.a)(Object(N.a)({},t.wasteDetails),{},{wasteDescription:e.target.value})}))}})}),Object(l.jsx)(v.a.div,{variants:f,className:"w-full",children:Object(l.jsx)(D,{label:"What is the approximate volume of the waste?",onChange:function(e){return s(Object(N.a)(Object(N.a)({},t),{},{wasteDetails:Object(N.a)(Object(N.a)({},t.wasteDetails),{},{approxAmount:e.target.value})}))}})}),Object(l.jsx)(v.a.div,{variants:f,className:"w-full",children:Object(l.jsx)(D,{label:"How long has the waste been in the area? (optional)",required:!1,onChange:function(e){return s(Object(N.a)(Object(N.a)({},t),{},{wasteDetails:Object(N.a)(Object(N.a)({},t.wasteDetails),{},{duration:e.target.value})}))}})}),Object(l.jsx)(v.a.div,{variants:f,className:"w-full",children:Object(l.jsx)(L,{label:"Add any additional comments (optional)",required:!1,onChange:function(e){return s(Object(N.a)(Object(N.a)({},t),{},{comments:e.target.value}))}})}),Object(l.jsx)(v.a.div,{variants:f,className:"w-full z-50",children:Object(l.jsx)(E,{label:"Enter the approximate address",serviceRequest:t,updateServiceRequest:s,addressErrorMessage:u,updateAddressErrorMessage:b,isValidAddress:h,updateIsValidAddress:p})}),Object(l.jsx)(v.a.div,{variants:f,className:"w-full",children:Object(l.jsx)(_,{serviceRequest:t,updateServiceRequest:s})}),c&&Object(l.jsx)(v.a.div,{variants:f,className:"mb-4 bg-white rounded w-full",children:Object(l.jsxs)("div",{className:"m-2 p-2 relative border border-red-400 rounded flex items-center justify-end",children:[Object(l.jsx)("p",{className:"mr-0 flex-grow text-red-400 ",children:c}),Object(l.jsx)("div",{className:"flex-shrink-0 mr-2",children:Object(l.jsx)(M,{})})]})}),Object(l.jsx)(v.a.div,{variants:f,className:"w-full flex justify-end",children:Object(l.jsx)("button",{type:"submit",disabled:null!==u,className:"body-font disabled-cursor-style w-28 xl:w-40 text-white bg-tcc-green transition duration-300 ease-in-out hover:bg-tcc-green-lighter rounded py-2.5 md:py-3 focus:outline-none border border-transparent focus:border-gray-800",children:n?Object(l.jsx)(B,{}):"Submit"})})]})},H=s(33),K=s.n(H),U={requireLogin:!0,apiBaseUrl:"https://environz-api-dev.azurewebsites.net/API/",keys:{createServiceRequestKey:"wtxg8KH0Hy82VrO3SJyJ2oXSSZNAisYb5gL2hin1NuMHlRniAywYFA==",checkAddressKey:"ovF57taafv4Lg0MRzupyAv8umU9HEc0EQTf8PgcXAyGideLUvm90uQ=="}};K.a.defaults.baseURL=U.apiBaseUrl;var J={createServiceRequest:function(){var e=Object(S.a)(y.a.mark((function e(t){var s,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"dev",s={env:"dev",code:U.keys.createServiceRequestKey},e.next=5,K.a.post("tcc/createservicerequest",t,{params:s});case 5:return r=e.sent,e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),checkAddress:function(){var e=Object(S.a)(y.a.mark((function e(t,s,r){var a,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"dev",a={env:"dev",code:U.keys.checkAddressKey,street:t,postcode:s,assessmentNo:r},e.next=5,K.a.get("tcc/checkaddress",{params:a});case 5:return n=e.sent,e.abrupt("return",n);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,s,r){return e.apply(this,arguments)}}()},Y=s(93),G=function(e){var t=e.initialState,s=e.serviceRequest,a=e.updateServiceRequest,n=e.updateHasCompletedForm,c=Object(r.useState)(null),o=Object(i.a)(c,2),d=o[0],b=o[1],j=Object(r.useState)(null),m=Object(i.a)(j,2),x=m[0],f=m[1],v=Object(r.useState)(!1),p=Object(i.a)(v,2),O=p[0],g=p[1],w=Object(h.f)(),q="You need to select a service from the checkboxes above.",k="We were unable to find an address with those details. Please try again later or contact us.",C="Something went wrong with this request. Please try again later or contact us.";function R(e){return M.apply(this,arguments)}function M(){return(M=Object(S.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),b(null),g(!0),e.next=5,J.createServiceRequest(s);case 5:L(e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){return A.apply(this,arguments)}function A(){return(A=Object(S.a)(y.a.mark((function e(t){var r,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),b(null),g(!0),I()){e.next=7;break}return f(q),g(!1),e.abrupt("return");case 7:return e.next=9,D();case 9:if(!e.sent){e.next=15;break}return a=Object.assign({},s,{service:null===(r=s.service)||void 0===r?void 0:r.toString()}),e.next=13,J.createServiceRequest(a);case 13:L(e.sent);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e){200===(null===e||void 0===e?void 0:e.status)?parseInt(e.data)&&(s.ticketNumber=parseInt(e.data),n(!0),g(!1),w.push("/confirmation")):(g(!1),b(C))}function D(){return B.apply(this,arguments)}function B(){return(B=Object(S.a)(y.a.mark((function e(){var t,r,a,n,c,i,l,o;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.addressComponents,a=r.streetNumber,n=r.roadName,c=r.postCode,i="".concat(a," ").concat(n),l=null!==(t=s.assessmentNumber)&&void 0!==t?t:"",e.next=5,J.checkAddress(i,null!==c&&void 0!==c?c:"",l);case 5:if(200!==(null===(o=e.sent)||void 0===o?void 0:o.status)){e.next=10;break}return e.abrupt("return",!0);case 10:if(400!==(null===o||void 0===o?void 0:o.status)||"Failed"!==(null===o||void 0===o?void 0:o.data)){e.next=14;break}return b(k),g(!1),e.abrupt("return",!1);case 14:return b(C),g(!1),e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return!(null===s.service||!s.service.length)}return Object(l.jsx)("div",{className:"sm:mt-10 mb-10 w-11/12 md:w-8/12 xl:6/12",children:Object(l.jsxs)("div",{className:"py-12 my-auto mx-auto flex flex-col items-start justify-start xl:w-4/5 2xl:w-6/12",children:[Object(l.jsxs)("h1",{className:"heading-font w-full text-left mb-6",children:["Report an issue with ",Object(l.jsx)("br",{}),"your waste services"]}),Object(l.jsx)(P,{label:"Please select your service request",dropdownItems:u,onChange:function(e){g(!1),b(null),f(null),a(Object(N.a)(Object(N.a)({},t),{},{serviceRequest:e.target.value}))}}),Object(l.jsxs)(Y.a,{exitBeforeEnter:!0,children:[(null===s||void 0===s?void 0:s.serviceRequest)===u.damagedBin&&Object(l.jsx)(z,{serviceRequest:s,updateServiceRequest:a,onSubmit:function(e){return E(e)},checkboxErrorMessage:x,updateCheckboxErrorMessage:f,isLoading:O,formErrorMessage:d},1),(null===s||void 0===s?void 0:s.serviceRequest)===u.missingBin&&Object(l.jsx)(z,{serviceRequest:s,updateServiceRequest:a,onSubmit:function(e){return E(e)},checkboxErrorMessage:x,updateCheckboxErrorMessage:f,isLoading:O,formErrorMessage:d},2),(null===s||void 0===s?void 0:s.serviceRequest)===u.additionalBin&&Object(l.jsx)(z,{serviceRequest:s,updateServiceRequest:a,onSubmit:function(e){return E(e)},checkboxErrorMessage:x,updateCheckboxErrorMessage:f,isLoading:O,formErrorMessage:d},3),(null===s||void 0===s?void 0:s.serviceRequest)===u.missedCollection&&Object(l.jsx)(z,{serviceRequest:s,updateServiceRequest:a,onSubmit:function(e){return E(e)},checkboxErrorMessage:x,updateCheckboxErrorMessage:f,isLoading:O,formErrorMessage:d},4),(null===s||void 0===s?void 0:s.serviceRequest)===u.illegalDumping&&Object(l.jsx)(V,{serviceRequest:s,updateServiceRequest:a,onSubmit:function(e){return R(e)},isLoading:O,formErrorMessage:d},5),(null===s||void 0===s?void 0:s.serviceRequest)===u.publicLitterBins&&Object(l.jsx)(T,{serviceRequest:s,updateServiceRequest:a,onSubmit:function(e){return R(e)},isLoading:O,formErrorMessage:d},6),(null===s||void 0===s?void 0:s.serviceRequest)===u.looseLitter&&Object(l.jsx)(W,{serviceRequest:s,updateServiceRequest:a,onSubmit:function(e){return R(e)},isLoading:O,formErrorMessage:d},7)]})]})})};s(88);var X=function(){var e=Object(r.useState)(!1),t=Object(i.a)(e,2),s=t[0],a=t[1],n=Object(h.g)(),c={ticketNumber:0,serviceRequest:null,service:null,dateCreated:(new Date).toLocaleDateString("en-NZ",{year:"numeric",month:"2-digit",day:"2-digit"}),comments:null,addressComponents:{formattedAddress:null,streetNumber:null,roadName:null,suburbName:null,cityName:null,postCode:null,regionName:null,latitude:null,longitude:null},assessmentNumber:null,wasteDetails:{wasteDescription:null,approxAmount:null,duration:null,whoDumped:null,occurredPreviously:null},publicLitterType:null,looseLitterType:null},u=Object(r.useState)(c),b=Object(i.a)(u,2),j=b[0],m=b[1],x=Object(r.useState)(!1),f=Object(i.a)(x,2),v=f[0],w=f[1];return s?Object(l.jsxs)("div",{className:"overflow-x-hidden",children:[Object(l.jsxs)("div",{className:"min-h-screen bg-tcc-background bg-tcc-blue bg-cover bg-center bg-fixed bg-no-repeat w-full flex flex-col items-center justify-start relative",children:[Object(l.jsx)(g,{}),Object(l.jsx)("div",{className:"bg-tcc-grey h-10 w-full"}),Object(l.jsx)(Y.a,{exitBeforeEnter:!0,children:Object(l.jsxs)(h.c,{location:n,children:[Object(l.jsx)(h.a,{exact:!0,path:"/",children:Object(l.jsx)(G,{serviceRequest:j,updateServiceRequest:m,initialState:c,hasCompletedForm:v,updateHasCompletedForm:w})}),Object(l.jsx)(h.a,{exact:!0,path:"/confirmation",children:Object(l.jsx)(p,{hasCompletedForm:v,serviceRequest:j})},"confirmation-page"),Object(l.jsx)(O,{})]},n.key)}),Object(l.jsx)("div",{className:"bg-tcc-blue h-10 w-full self-stretch absolute bottom-0",children:Object(l.jsx)("div",{className:"bg-tcc-blue transform -translate-x-1/2 rotate-45 h-10 w-10 absolute left-1/2 -bottom-1/2"})})]}),Object(l.jsx)(d,{})]}):Object(l.jsx)(o,{updateLogin:a})},Z=s(36);s(89);c.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(Z.a,{basename:"/service-request",children:Object(l.jsx)(X,{})})}),document.getElementById("root"))}},[[90,1,2]]]);
//# sourceMappingURL=main.e5b1ce99.chunk.js.map